<!DOCTYPE html>
<html>
<head>
    <title>댓글 관리</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>
<body>
<h1>댓글 관리 페이지</h1>
<div class="container">
    <h2>댓글 목록</h2>
    <table id="commentsTable">
        <thead>
        <tr>
            <th>ID</th>
            <th>게시물 ID</th>
            <th>내용</th>
            <th>상세보기</th>
        </tr>
        </thead>
        <tbody>
        <!-- Comments will be dynamically populated here -->
        </tbody>
    </table>
</div>

<script>
    // Fetch and display comments
    fetch('/api/comments')
        .then(response => response.json())
        .then(comments => {
            const tableBody = document.getElementById('commentsTable').getElementsByTagName('tbody')[0];
            comments.forEach(comment => {
                const row = tableBody.insertRow();
                row.insertCell(0).innerText = comment.id;
                row.insertCell(1).innerText = comment.postId; // Assuming postId is part of the comment DTO
                row.insertCell(2).innerText = comment.content;
                const detailCell = row.insertCell(3);
                const detailLink = document.createElement('a');
                detailLink.href = `/comments/${comment.id}`;
                detailLink.innerText = '상세보기';
                detailCell.appendChild(detailLink);
            });
        })
        .catch(error => console.error('Error fetching comments:', error));
</script>
</body>
</html>
