<!DOCTYPE html>
<html>
<head>
    <title>게시물 관리</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>
<body>
<h1>게시물 관리 페이지</h1>
<div class="container">
    <h2>게시물 목록</h2>
    <table id="postsTable">
        <thead>
        <tr>
            <th>ID</th>
            <th>제목</th>
            <th>내용</th>
            <th>상세보기</th>
        </tr>
        </thead>
        <tbody>
        <!-- Posts will be dynamically populated here -->
        </tbody>
    </table>
</div>

<script>
    // Fetch and display posts
    fetch('/api/posts')
        .then(response => response.json())
        .then(posts => {
            const tableBody = document.getElementById('postsTable').getElementsByTagName('tbody')[0];
            posts.forEach(post => {
                const row = tableBody.insertRow();
                row.insertCell(0).innerText = post.id;
                row.insertCell(1).innerText = post.title;
                row.insertCell(2).innerText = post.content;
                const detailCell = row.insertCell(3);
                const detailLink = document.createElement('a');
                detailLink.href = `/posts/${post.id}`;
                detailLink.innerText = '상세보기';
                detailCell.appendChild(detailLink);
            });
        })
        .catch(error => console.error('Error fetching posts:', error));
</script>
</body>
</html>
