<!DOCTYPE html>
<html>
<head>
    <title>사용자 관리</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>
<body>
<h1>사용자 관리 페이지</h1>
<div class="container">
    <h2>사용자 목록</h2>
    <table id="usersTable">
        <thead>
        <tr>
            <th>ID</th>
            <th>이름</th>
            <th>이메일</th>
            <th>상세보기</th>
        </tr>
        </thead>
        <tbody>
        <!-- Users will be dynamically populated here -->
        </tbody>
    </table>
</div>

<script>
    // Fetch and display users
    fetch('/api/users')
        .then(response => response.json())
        .then(users => {
            const tableBody = document.getElementById('usersTable').getElementsByTagName('tbody')[0];
            users.forEach(user => {
                const row = tableBody.insertRow();
                row.insertCell(0).innerText = user.id;
                row.insertCell(1).innerText = user.username;
                row.insertCell(2).innerText = user.email;
                const detailCell = row.insertCell(3);
                const detailLink = document.createElement('a');
                detailLink.href = `/users/${user.id}`;
                detailLink.innerText = '상세보기';
                detailCell.appendChild(detailLink);
            });
        })
        .catch(error => console.error('Error fetching users:', error));
</script>
</body>
</html>
